#!/usr/bin/env php
<?php
require __DIR__ . '/../../../../app/autoload.php';
define('MAINPATH',__DIR__.'/app/');
if ($argc == 1) {
    echo 'php make install {domain} {databasehostname} {databasename} {databaseusername} {databasepassword} - install framework ' . PHP_EOL;
    echo 'php make database {domain} - create mani database tables ' . PHP_EOL;
    echo 'php make model {type} {name} - create model' . PHP_EOL;
    echo '              | type - content :: content table ' . PHP_EOL;
    echo '              | type - contentrel :: content table with type relation ' . PHP_EOL;
    echo '              | type - full :: full content (content,image,language) ' . PHP_EOL;
    echo 'php make admin {name} - create admin controller and view' . PHP_EOL;
    die();
}
switch ($argv[1]) {
    case 'database':
        $_class = new finger\maker\database(__DIR__);
        $_class->create($argv[2]);
        break;
    case 'model':
        $_class = new finger\maker\model(__DIR__.'/../../../../');
        $_class->create($argv[2], $argv[3]);
        break;
    case 'site':
        $_class = new finger\maker\site(__DIR__);
        $_class->create($argv[2]);
        break;
    case 'admin':
        $_class = new finger\maker\admin(__DIR__);
        $_class->create($argv[2]);
        break;
    case 'install':
        define('HTTP_HOST',$argv[2]);
        $_class = new finger\maker\install(__DIR__);
        $_class->create($argv[2],$argv[3],$argv[4],$argv[5],$argv[6]);
}
echo 'ok'.PHP_EOL;
?>

